<!-- Loading State -->
<div class="container py-5" *ngIf="isLoading">
  <div class="text-center">
    <div class="spinner-border text-success" role="status" style="width: 3rem; height: 3rem">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="text-muted mt-3">Memuat detail kos...</p>
  </div>
</div>

<!-- Error State -->
<div class="container py-5" *ngIf="!isLoading && errorMessage">
  <div class="alert alert-danger" role="alert">
    <i class="bi bi-exclamation-triangle-fill me-2"></i>
    <strong>Error!</strong> {{ errorMessage }}
  </div>
  <button class="btn btn-primary" (click)="goBack()">
    <i class="bi bi-arrow-left me-2"></i>Kembali ke Home
  </button>
</div>

<!-- Detail Content -->
<div class="container py-5" *ngIf="!isLoading && kos">
  <!-- Breadcrumb -->
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a routerLink="/" class="text-decoration-none">Home</a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        {{ kos.nama }}
      </li>
    </ol>
  </nav>

  <!-- Back Button -->
  <button class="btn btn-outline-secondary mb-4" (click)="goBack()">
    <i class="bi bi-arrow-left me-2"></i>Kembali
  </button>

  <div class="row g-4">
    <!-- Left Column - Image & Description -->
    <div class="col-lg-8">
      <!-- Main Image -->
      <div class="card shadow-sm mb-4">
        <img
          [src]="kos.image"
          [alt]="kos.nama"
          class="card-img-top"
          style="height: 450px; object-fit: cover"
        />
      </div>

      <!-- Description Section -->
      <div class="card shadow-sm">
        <div class="card-body">
          <h3 class="card-title mb-3">
            <i class="bi bi-info-circle text-primary me-2"></i>Tentang Kos Ini
          </h3>
          <p class="card-text">
            {{ kos.nama }} adalah pilihan kos terbaik dengan fasilitas lengkap dan lokasi strategis.
            Cocok untuk mahasiswa dan karyawan yang mencari tempat tinggal nyaman dengan harga
            terjangkau. Ruangan luas dengan pencahayaan natural yang bagus, serta akses mudah ke
            transportasi umum dan berbagai fasilitas umum di sekitarnya.
          </p>

          <h5 class="mt-4 mb-3"><i class="bi bi-bookmark text-primary me-2"></i>Keunggulan</h5>
          <ul class="list-unstyled">
            <li class="mb-2">
              <i class="bi bi-check-circle-fill text-success me-2"></i>
              Lokasi strategis dan mudah diakses
            </li>
            <li class="mb-2">
              <i class="bi bi-check-circle-fill text-success me-2"></i>
              Fasilitas lengkap dan modern
            </li>
            <li class="mb-2">
              <i class="bi bi-check-circle-fill text-success me-2"></i>
              Harga terjangkau dengan kualitas terbaik
            </li>
            <li class="mb-2">
              <i class="bi bi-check-circle-fill text-success me-2"></i>
              Lingkungan aman dan nyaman
            </li>
            <li class="mb-2">
              <i class="bi bi-check-circle-fill text-success me-2"></i>
              Pengelola responsif dan profesional
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Right Column - Details -->
    <div class="col-lg-4">
      <!-- Kos Info Card -->
      <div class="card shadow-sm mb-4">
        <div class="card-body">
          <!-- Title -->
          <h2 class="card-title mb-3">{{ kos.nama }}</h2>

          <!-- Badges -->
          <div class="mb-3">
            <span class="badge bg-warning text-dark me-2">
              {{ kos.label }}
            </span>
            <span class="badge bg-info"> ‚≠ê {{ kos.rating }} </span>
          </div>

          <!-- Price -->
          <div class="mb-4">
            <h3 class="text-success mb-0">{{ kos.harga }}</h3>
          </div>

          <!-- Location -->
          <div class="mb-3">
            <h5 class="mb-2"><i class="bi bi-geo-alt-fill text-danger me-2"></i>Lokasi</h5>
            <p class="text-muted mb-0">{{ kos.lokasi }}</p>
          </div>

          <hr />

          <!-- Specifications -->
          <h5 class="mb-3"><i class="bi bi-house-fill text-primary me-2"></i>Informasi Kos</h5>

          <div class="row g-3 mb-4">
            <!-- Type -->
            <div class="col-6">
              <div class="d-flex align-items-center">
                <div class="icon-box bg-primary bg-opacity-10 text-primary rounded p-2 me-2">
                  <i class="bi bi-door-closed text-white fs-5"></i>
                </div>
                <div>
                  <div class="fw-bold">{{ kos.label }}</div>
                  <small class="text-muted">Jenis Kos</small>
                </div>
              </div>
            </div>

            <!-- Rating -->
            <div class="col-6">
              <div class="d-flex align-items-center">
                <div class="icon-box bg-warning bg-opacity-10 text-warning rounded p-2 me-2">
                  <i class="bi bi-star-fill text-white fs-5"></i>
                </div>
                <div>
                  <div class="fw-bold">{{ kos.rating }}/5</div>
                  <small class="text-muted">Rating</small>
                </div>
              </div>
            </div>
          </div>

          <hr />

          <!-- Action Buttons -->
          <div class="d-grid gap-2">
            <button class="btn btn-primary btn-lg">
              <i class="bi bi-telephone-fill me-2"></i>Hubungi Agen
            </button>
            <button class="btn btn-outline-primary">
              <i class="bi bi-calendar-check me-2"></i>Jadwalkan Kunjungan
            </button>
          </div>
        </div>
      </div>

      <!-- Contact Card -->
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title mb-3">
            <i class="bi bi-person-circle text-primary me-2"></i>Hubungi Kami
          </h5>
          <p class="text-muted mb-3">
            Tertarik dengan kos ini? Hubungi kami untuk informasi lebih lanjut.
          </p>
          <div class="d-grid gap-2">
            <a href="tel:+6281234567890" class="btn btn-success">
              <i class="bi bi-whatsapp me-2"></i>WhatsApp
            </a>
            <a href="mailto:info@kosKita.com" class="btn btn-outline-secondary">
              <i class="bi bi-envelope me-2"></i>Email
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
