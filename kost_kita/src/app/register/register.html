<section class="d-flex align-items-center justify-content-center min-vh-100 bg-light">
  <div class="card shadow-lg border-0 rounded-4" style="max-width: 420px; width: 100%">
    <div class="card-body p-4 p-md-5">
      <div class="text-center mb-4">
        <h4 class="fw-bold mb-2">Register</h4>
        <p class="text-muted small">Silakan buat akun baru</p>
      </div>

      <!-- Success Alert -->
      <div
        class="alert alert-success alert-dismissible fade show"
        role="alert"
        *ngIf="successMessage"
      >
        {{ successMessage }}
      </div>

      <!-- Error Alert -->
      <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="errorMessage">
        {{ errorMessage }}
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="submitRegister()">
        <!-- NAMA -->
        <div class="mb-4">
          <label class="form-label fw-semibold">Nama Lengkap</label>
          <input
            type="text"
            class="form-control form-control-lg"
            formControlName="name"
            placeholder="Masukkan nama lengkap Anda"
            [class.is-invalid]="
              registerForm.get('name')?.touched && registerForm.get('name')?.invalid
            "
          />
          <div class="invalid-feedback">Nama wajib diisi</div>
        </div>

        <!-- EMAIL -->
        <div class="mb-4">
          <label class="form-label fw-semibold">Email</label>
          <input
            type="email"
            class="form-control form-control-lg"
            formControlName="email"
            placeholder="nama@email.com"
            [class.is-invalid]="
              registerForm.get('email')?.touched && registerForm.get('email')?.invalid
            "
          />
          <div class="invalid-feedback">Email wajib diisi</div>
        </div>

        <!-- TELEPON -->
        <div class="mb-4">
          <label class="form-label fw-semibold">No. Telepon</label>
          <input
            type="text"
            class="form-control form-control-lg"
            formControlName="phone"
            placeholder="08xxxxxxxxxx"
            [class.is-invalid]="
              registerForm.get('phone')?.touched && registerForm.get('phone')?.invalid
            "
          />
          <div class="invalid-feedback">Nomor telepon harus 10â€“13 digit</div>
        </div>

        <!-- PASSWORD -->
        <div class="mb-4">
          <label class="form-label fw-semibold">Password</label>
          <div class="input-group">
            <input
              [type]="showPassword ? 'text' : 'password'"
              class="form-control form-control-lg"
              formControlName="password"
              placeholder="Minimal 8 karakter"
              [class.is-invalid]="
                registerForm.get('password')?.touched && registerForm.get('password')?.invalid
              "
            />
            <button
              type="button"
              class="btn btn-outline-secondary"
              (click)="showPassword = !showPassword"
            >
              <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
            </button>
          </div>

          <div
            class="invalid-feedback d-block"
            *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid"
          >
            Password minimal 8 karakter, kombinasi huruf & angka, tanpa simbol
          </div>
        </div>

        <!-- KONFIRMASI PASSWORD -->
        <div class="mb-4">
          <label class="form-label fw-semibold">Konfirmasi Password</label>
          <input
            type="password"
            class="form-control form-control-lg"
            formControlName="confirmPassword"
            placeholder="Ulangi password"
            [class.is-invalid]="
              registerForm.get('confirmPassword')?.touched && registerForm.hasError('mismatch')
            "
          />
          <div class="invalid-feedback">Password tidak sama</div>
        </div>

        <!-- BUTTON -->
        <div class="d-grid mb-3">
          <button
            type="submit"
            class="btn btn-success btn-lg"
            [disabled]="registerForm.invalid || isLoading"
          >
            <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
            {{ isLoading ? 'Memproses...' : 'Daftar' }}
          </button>
        </div>
      </form>

      <div class="text-center">
        <small>
          Sudah punya akun?
          <a routerLink="/login" class="text-success fw-semibold">Login</a>
        </small>
      </div>
    </div>
  </div>
</section>
